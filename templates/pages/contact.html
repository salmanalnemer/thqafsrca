{% extends "base.html" %}
{% load static %}
{% block title %}تواصل معنا | ثقف{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'assets/css/contact.css' %}">
{% endblock %}

{% block content %}
<section class="thqaf-contact">
  <div class="wrap">
    <div class="contact-head">
      <h1>تواصل معنا</h1>
      <p>أرسل لنا رسالتك وسيتم التواصل معكم من قبل المختصين.</p>
    </div>

    {% if messages %}
      <div class="flash">
        {% for m in messages %}
          <div class="flash-item {{ m.tags }}">{{ m }}</div>
        {% endfor %}
      </div>
    {% endif %}

    <div class="contact-card">
      <form method="post" class="contact-form" novalidate>
        {% csrf_token %}

        <div class="grid">
          <div class="field">
            <label>اسم الجهة</label>
            {{ form.org_name }}
            {% if form.org_name.errors %}<small class="err">{{ form.org_name.errors|striptags }}</small>{% endif %}
          </div>

          <div class="field">
            <label>ممثل الجهة</label>
            {{ form.org_representative }}
            {% if form.org_representative.errors %}<small class="err">{{ form.org_representative.errors|striptags }}</small>{% endif %}
          </div>

          <div class="field">
            <label>رقم التواصل</label>
            {{ form.phone }}
            {% if form.phone.errors %}<small class="err">{{ form.phone.errors|striptags }}</small>{% endif %}
          </div>

          <div class="field">
            <label>البريد الإلكتروني</label>
            {{ form.email }}
            {% if form.email.errors %}<small class="err">{{ form.email.errors|striptags }}</small>{% endif %}
          </div>
        </div>

        <div class="field message">
          <label>نص الرسالة</label>
          {{ form.message }}
          <div class="msg-tools">
            <span id="msgCount">0</span>
            <span>حرف</span>
          </div>
          {% if form.message.errors %}<small class="err">{{ form.message.errors|striptags }}</small>{% endif %}
        </div>

        <div class="actions">
          <button type="submit" class="btn primary" id="sendBtn">إرسال الرسالة</button>
          <a class="btn outline" href="/">رجوع للرئيسية</a>
        </div>

        <p class="hint">
          سيتم إرسال نسخة للجهة المختصة. إذا تعذر الإرسال لأسباب تقنية، سيتم حفظ الرسالة لدينا.
        </p>
      </form>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'assets/js/contact.js' %}" defer></script>
{% endblock %}
